"use strict";jQuery(function($){$(document).on("click",".sp-pagebuilder-btn-install, .sp-pagebuilder-btn-update",function(installtype){installtype.preventDefault();var $this=$(this),integration=$this.closest("[data-integration-list-item]").data("integration"),installtype="";"update"==$this.closest("[data-integration-list-item]").attr("class")&&(installtype="update"),$.ajax({type:"POST",url:pagebuilder_base+"index.php?option=com_sppagebuilder&task=integrations.install&integration="+integration+"&installtype="+installtype,beforeSend:function(){$this.html('<span class="fas fa-spinner fa-spin" area-hidden="true"></span> '+$this.data("text"))},success:function(data){$this.text($this.data("text")),(data=$.parseJSON(data)).success?($this.html('<i class="fa fa-check"></i> Installed'),setTimeout(function(){"update"==$this.closest("[data-integration-list-item]").attr("class")?$this.closest("[data-integration-list-item]").removeAttr("class").addClass("enabled"):$this.closest("[data-integration-list-item]").removeAttr("class").addClass("installed"),$this.text($this.data("text"))},500)):alert(data.message)}})}),$(document).on("click",".sp-pagebuilder-btn-enable",function(integration){integration.preventDefault();var $this=$(this),integration=$this.closest("[data-integration-list-item]").data("integration");$.ajax({type:"POST",url:pagebuilder_base+"index.php?option=com_sppagebuilder&task=integrations.enable&integration="+integration,beforeSend:function(){$this.html('<span class="fas fa-spinner fa-spin" area-hidden="true"></span> '+$this.data("text"))},success:function(data){$this.text($this.data("text")),(data=$.parseJSON(data)).success?$this.closest("[data-integration-list-item]").removeAttr("class").addClass("enabled"):alert(data.message)}})}),$(document).on("click",".sp-pagebuilder-btn-disable",function(integration){integration.preventDefault();var $this=$(this),integration=$this.closest("[data-integration-list-item]").data("integration");$.ajax({type:"POST",url:pagebuilder_base+"index.php?option=com_sppagebuilder&task=integrations.disable&integration="+integration,beforeSend:function(){$this.html('<span class="fas fa-spinner fa-spin" area-hidden="true"></span> '+$this.data("text"))},success:function(data){$this.text($this.data("text")),(data=$.parseJSON(data)).success?$this.closest("[data-integration-list-item]").removeAttr("class").addClass("installed"):alert(data.message)}})}),$(document).on("click",".sp-pagebuilder-btn-uninstall",function(integration){integration.preventDefault();var $this=$(this),integration=$this.closest("[data-integration-list-item]").data("integration");$.ajax({type:"POST",url:pagebuilder_base+"index.php?option=com_sppagebuilder&task=integrations.uninstall&integration="+integration,beforeSend:function(){$this.html('<span class="fas fa-spinner fa-spin" area-hidden="true"></span> '+$this.data("text"))},success:function(data){$this.text($this.data("text")),(data=$.parseJSON(data)).success?($this.html('<i class="fa fa-check"></i> Uninstalled'),setTimeout(function(){$this.text($this.data("text")),$this.closest("[data-integration-list-item]").removeAttr("class").addClass("available")},500)):alert(data.message)}})})});